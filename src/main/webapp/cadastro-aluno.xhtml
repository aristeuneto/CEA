<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             template="template-cea.xhtml"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">


    <!-- Script para tornar a páginas responsiva! Tem que colocar a classe "ui-fluid" dentro de uma div-->
    <style type="text/css">
        /** Demo **/
        .ui-outputlabel {
            font-weight: bold;
        }

        .ui-orderlist .ui-orderlist-list {
            height: auto;
        }
    </style>
    <!-- ********************************************************************************************* -->

    <!-- Adionando JS para traduzir calendário-->
    <h:outputScript name="pt_BR.js" library="js"></h:outputScript>
    <h:form id="frma">
        <p:fieldset legend="Cadastro de Alunos" rendered="#{beanAluno.save}">
            <div header="Growl" class="ui-fluid">
                <p:growl id="growl" showDetail="true" sticky="true" />  
                <p:commandButton value="Buscar" ajax="false" action="#{beanAluno.mudarParaView()}" update=":frma2" immediate="true"></p:commandButton>
                <p:panelGrid columns="2" >
                    <p:fieldset legend="Dados Pessoais">
                        <p:panelGrid columns="4" > 
                            <p:outputLabel for="Nome" value="Nome: "></p:outputLabel>
                            <p:inputText id="Nome" value="#{beanAluno.modelAluno.pesNome}" placeholder="Nome"></p:inputText>
                            <p:outputLabel for="Rg" value="Rg: "></p:outputLabel>
                            <p:inputMask id="Rg" value="#{beanAluno.modelAluno.pesRg}" mask="99999999-99" placeholder="RG"/>
                            <p:outputLabel for="Cpf" value="CPF: "></p:outputLabel>
                            <p:inputMask id="Cpf" value="#{beanAluno.modelAluno.pesCpf}" mask="999.999.999-99" placeholder="CPF"/>
                            <p:outputLabel for="Nascimento" value="Nascimento: "/>
                            <p:inputMask id="Nascimento" value="#{beanAluno.dataNascimento}" mask="99/99/9999" placeholder="Data de Nascimento"/>
                            <p:outputLabel for="Filiação" value="Filiação: "></p:outputLabel>
                            <p:inputText id="Filiação" value="#{beanAluno.modelAluno.pesFiliacao}" placeholder="Filiação"></p:inputText>            
                            <p:outputLabel for="Naturalidade" value="Naturalidade: "></p:outputLabel>         
                            <p:inputText id="Naturalidade" value="#{beanAluno.modelAluno.pesNaturalidade}" placeholder="Naturalidade"></p:inputText>
                            <p:outputLabel for="Origem" value="Escola Origem: "></p:outputLabel> 
                            <p:inputText id="Origem" value="#{beanAluno.modelAluno.aluEscolaOrigem}" placeholder="Origem"></p:inputText>
                            <p:outputLabel for="Obs" value="Observação: "></p:outputLabel> 
                            <p:inputText id="Obs" value="#{beanAluno.modelAluno.aluObs}" placeholder="Obs"></p:inputText>
                        </p:panelGrid>      
                    </p:fieldset>
                    <p:fieldset legend="Contato">    
                        <p:panelGrid columns="2"> 
                            <p:outputLabel for="Celular" value="Celular: "></p:outputLabel>
                            <p:inputMask id="Celular" value="#{beanAluno.modelContato.contCelular}" mask="(99) 99999-9999" placeholder="Celular"/>
                            <p:outputLabel for="Telefone" value="Telefone "></p:outputLabel>
                            <p:inputMask id="Telefone" value="#{beanAluno.modelContato.contTelefone}" mask="(99) 9999-9999" placeholder="Telefone"/>
                            <p:outputLabel for="E-mail" value="E-mail "></p:outputLabel>
                            <p:inputMask id="E-mail" value="#{beanAluno.modelContato.contEmail}" mask="" placeholder="E-mail"/>
                            <p:outputLabel for="Terceiros" value="Terceiros"></p:outputLabel>
                            <p:inputMask id="Terceiros" value="#{beanAluno.modelContato.contTerceiros}" mask="" placeholder="Terceiros"/>
                            <p:outputLabel for="Status" value="Status"></p:outputLabel>
                            <p:selectOneRadio id="Status" value="#{beanAluno.modelAluno.aluStatus}" columns="2">
                                <f:selectItem itemLabel="Ativo" itemValue="Ativo"></f:selectItem>
                                <f:selectItem itemLabel="Inativo" itemValue="Inativo"></f:selectItem>
                            </p:selectOneRadio>
                        </p:panelGrid>      
                    </p:fieldset>
                    <p:fieldset legend="Localização">    
                        <p:panelGrid columns="6" >
                            <p:outputLabel for="Rua" value="Rua "></p:outputLabel>
                            <p:inputText id="Rua" value="#{beanAluno.modelEndereco.endRua}" placeholder="Rua"></p:inputText>
                            <p:outputLabel for="Numero" value="Numero "></p:outputLabel>
                            <p:inputMask id="Numero" value="#{beanAluno.modelEndereco.endNum}" mask="9999" placeholder="Numero"></p:inputMask>
                            <p:outputLabel for="Bairro" value="Bairro "></p:outputLabel>
                            <p:inputText id="Bairro" value="#{beanAluno.modelEndereco.endBairro}" placeholder="Bairro"></p:inputText>
                            <p:outputLabel for="Cep" value="Cep"></p:outputLabel>
                            <p:inputMask id="Cep" value="#{beanAluno.modelEndereco.endCep}" mask="99999-999" placeholder="CEP"/>
                            <p:outputLabel for="Cidade" value="Cidade "></p:outputLabel>
                            <p:inputText id="Cidade" value="#{beanAluno.modelEndereco.endCidade}" placeholder="Cidade"></p:inputText>
                            <p:outputLabel for="Estado" value="Estado"></p:outputLabel>
                            <p:inputText id="Estado" value="#{beanAluno.modelEndereco.endEstado}" placeholder="Estado"></p:inputText>
                            <p:outputLabel for="Pais" value="Pais "></p:outputLabel>
                            <p:inputText id="Pais" value="#{beanAluno.modelEndereco.endPais}" placeholder="Pais"></p:inputText>
                        </p:panelGrid>  
                    </p:fieldset>  
                    <p:fieldset legend="Opções">    
                        <p:panelGrid columns="3" >
                            <p:commandButton value="Enviar" action="#{beanAluno.salvarAluno()}" update=":frma"></p:commandButton>
                            <p:commandButton value="Alterar" disabled="true"></p:commandButton>
                            <p:commandButton value="Excluir" disabled="true"></p:commandButton>
                        </p:panelGrid>  
                    </p:fieldset>
                </p:panelGrid>
            </div>
        </p:fieldset>
    </h:form>

    <h:form id="frma1">
        <p:fieldset legend="Atualização de Alunos" rendered="#{beanAluno.edit}">
            <div header="Growl" class="ui-fluid">
                <p:growl id="growl" showDetail="true" sticky="true" />   
                <p:commandButton value="Cadastrar Novo" ajax="false" action="#{beanAluno.mudarParaSave()}" update=":frma" immediate="true"></p:commandButton>
                <p:commandButton value="Buscar" ajax="false" action="#{beanAluno.mudarParaView()}" update=":frma2" immediate="true"></p:commandButton>
                <p:panelGrid columns="2" >
                    <p:fieldset legend="Dados Pessoais">
                        <p:panelGrid columns="4" > 
                            <p:outputLabel value="Id: "></p:outputLabel>
                            <p:inputText disabled="true" value="#{beanAluno.modelAluno.pesId}"></p:inputText><br/>
                            <h:inputHidden value="#{beanAluno.modelAluno.pesId}"></h:inputHidden>
                            <p:outputLabel for="Nome" value="Nome: "></p:outputLabel>
                            <p:inputText id="Nome" value="#{beanAluno.modelAluno.pesNome}" placeholder="Nome"></p:inputText>
                            <p:outputLabel for="Rg" value="Rg: "></p:outputLabel>
                            <p:inputMask id="Rg" value="#{beanAluno.modelAluno.pesRg}" mask="99999999-99" placeholder="RG"/>
                            <p:outputLabel for="Cpf" value="CPF: "></p:outputLabel>
                            <p:inputMask id="Cpf" value="#{beanAluno.modelAluno.pesCpf}" mask="999.999.999-99" placeholder="CPF"/>
                            <p:outputLabel for="Nascimento" value="Nascimento: "/>
                            <p:inputMask id="Nascimento" value="#{beanAluno.dataNascimento}" mask="99/99/9999" placeholder="Data de Nascimento"/>
                            <p:outputLabel for="Filiação" value="Filiação: "></p:outputLabel>
                            <p:inputText id="Filiação" value="#{beanAluno.modelAluno.pesFiliacao}" placeholder="Filiação"></p:inputText>            
                            <p:outputLabel for="Naturalidade" value="Naturalidade: "></p:outputLabel>         
                            <p:inputText id="Naturalidade" value="#{beanAluno.modelAluno.pesNaturalidade}" placeholder="Naturalidade"></p:inputText>
                            <p:outputLabel for="Origem" value="Escola Origem: "></p:outputLabel> 
                            <p:inputText id="Origem" value="#{beanAluno.modelAluno.aluEscolaOrigem}" placeholder="Origem"></p:inputText>
                            <p:outputLabel for="Obs" value="Observação: "></p:outputLabel> 
                            <p:inputText id="Obs" value="#{beanAluno.modelAluno.aluObs}" placeholder="Obs"></p:inputText>
                        </p:panelGrid>      
                    </p:fieldset>
                    <p:fieldset legend="Contato">    
                        <p:panelGrid columns="2"> 
                            <p:outputLabel for="Celular" value="Celular: "></p:outputLabel>
                            <p:inputMask id="Celular" value="#{beanAluno.modelContato.contCelular}" mask="(99) 99999-9999" placeholder="Celular"/>
                            <p:outputLabel for="Telefone" value="Telefone "></p:outputLabel>
                            <p:inputMask id="Telefone" value="#{beanAluno.modelContato.contTelefone}" mask="(99) 9999-9999" placeholder="Telefone"/>
                            <p:outputLabel for="E-mail" value="E-mail "></p:outputLabel>
                            <p:inputMask id="E-mail" value="#{beanAluno.modelContato.contEmail}" mask="" placeholder="E-mail"/>
                            <p:outputLabel for="Terceiros" value="Terceiros"></p:outputLabel>
                            <p:inputMask id="Terceiros" value="#{beanAluno.modelContato.contTerceiros}" mask="" placeholder="Terceiros"/>
                            <p:outputLabel for="Status" value="Status"></p:outputLabel>
                            <p:selectOneRadio id="Status" value="#{beanAluno.modelAluno.aluStatus}" columns="2">
                                <f:selectItem itemLabel="Ativo" itemValue="Ativo"></f:selectItem>
                                <f:selectItem itemLabel="Inativo" itemValue="Inativo"></f:selectItem>
                            </p:selectOneRadio>
                        </p:panelGrid>      
                    </p:fieldset>
                    <p:fieldset legend="Localização">    
                        <p:panelGrid columns="6" >
                            <p:outputLabel for="Rua" value="Rua "></p:outputLabel>
                            <p:inputText id="Rua" value="#{beanAluno.modelEndereco.endRua}" placeholder="Rua"></p:inputText>
                            <p:outputLabel for="Numero" value="Numero "></p:outputLabel>
                            <p:inputMask id="Numero" value="#{beanAluno.modelEndereco.endNum}" mask="9999" placeholder="Numero"></p:inputMask>
                            <p:outputLabel for="Bairro" value="Bairro "></p:outputLabel>
                            <p:inputText id="Bairro" value="#{beanAluno.modelEndereco.endBairro}" placeholder="Bairro"></p:inputText>
                            <p:outputLabel for="Cep" value="Cep"></p:outputLabel>
                            <p:inputMask id="Cep" value="#{beanAluno.modelEndereco.endCep}" mask="99999-999" placeholder="CEP"/>
                            <p:outputLabel for="Cidade" value="Cidade "></p:outputLabel>
                            <p:inputText id="Cidade" value="#{beanAluno.modelEndereco.endCidade}" placeholder="Cidade"></p:inputText>
                            <p:outputLabel for="Estado" value="Estado"></p:outputLabel>
                            <p:inputText id="Estado" value="#{beanAluno.modelEndereco.endEstado}" placeholder="Estado"></p:inputText>
                            <p:outputLabel for="Pais" value="Pais "></p:outputLabel>
                            <p:inputText id="Pais" value="#{beanAluno.modelEndereco.endPais}" placeholder="Pais"></p:inputText>
                        </p:panelGrid>  
                    </p:fieldset>  
                    <p:fieldset legend="Opções">    
                        <p:panelGrid columns="3" >
                            <p:commandButton value="Enviar" disabled="true"></p:commandButton>
                            <p:commandButton value="Alterar"  update=":frma1"></p:commandButton>
                            <p:commandButton value="Excluir"></p:commandButton>
                        </p:panelGrid>  
                    </p:fieldset>
                </p:panelGrid>
            </div>    
        </p:fieldset>
    </h:form>

    <h:form id="frma2">
        <p:fieldset legend="Lista de Alunos" rendered="#{beanAluno.view}">
            <div header="Growl" class="ui-fluid" >  
                <p:growl id="growl" showDetail="true" sticky="true" />  
                <p:commandButton value="Cadastrar Novo" action="#{beanAluno.mudarParaSave()}" update=":frma" ajax="false"></p:commandButton>
                <p:commandButton value="Refresh"  action="#{beanAluno.setListaAluno(listaAluno)}" update=":frma2" ajax="false"></p:commandButton>
                <p:dataTable value="#{beanAluno.listaAluno}" var="lista" emptyMessage="Não existem valores para exibição" scrollRows="10" scrollable="true" liveScroll="true" 
                             scrollHeight="360" >

                    <p:column style="width: 40px !important;" headerText="ID" sortBy="#{lista.pesId}" class="cell">
                        <h:outputText value="#{lista.pesId}" />
                    </p:column>

                    <p:column headerText="NOME" sortBy="#{lista.pesNome}" filterBy="#{lista.pesNome}" class="cell" >
                        <h:outputText value="#{lista.pesNome}"/>
                    </p:column>

                    <p:column headerText="CPF" sortBy="#{lista.pesCpf}" filterBy="#{lista.pesCpf}" class="cell">
                        <h:outputText value="#{lista.pesCpf}"/>
                    </p:column>

                    <p:column headerText="NASCIMENTO" sortBy="#{lista.pesDtnasc}" filterBy="#{lista.pesDtnasc}" class="cell">
                        <h:outputText value="#{lista.pesDtnasc}"/>
                    </p:column>

                    <p:column headerText="FILIAÇÃO" sortBy="#{lista.pesFiliacao}" filterBy="#{lista.pesFiliacao}" class="cell">
                        <h:outputText value="#{lista.pesFiliacao}"/>
                    </p:column>

                    <p:column headerText="STATUS" sortBy="#{lista.aluStatus}" filterBy="#{lista.aluStatus}" class="cell">
                        <h:outputText value="#{lista.aluStatus}" />
                    </p:column>

                    <p:column headerText="OPÇÕES" class="cell" style="width: 85px !important;">
                        <p:commandButton value="Modificar" ajax="false" action="#{beanAluno.mudarParaEdit()}" onclick="#{beanAluno.setModelAluno(lista)}" update=":frm1"></p:commandButton>
                    </p:column>
                </p:dataTable>
            </div>
        </p:fieldset>
    </h:form>

</ui:decorate>

